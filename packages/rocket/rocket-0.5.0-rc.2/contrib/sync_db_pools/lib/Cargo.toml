[package]
name = "rocket_sync_db_pools"
version = "0.1.0-rc.2"
authors = ["Sergio Benitez <sb@sergio.bz>"]
description = "Rocket async database pooling support for sync database drivers."
repository = "https://github.com/SergioBenitez/Rocket/tree/v0.5-rc/contrib/sync_db_pools"
readme = "../README.md"
keywords = ["rocket", "framework", "database", "pools"]
license = "MIT OR Apache-2.0"
edition = "2021"
rust-version = "1.56"

[features]
diesel_sqlite_pool = ["diesel/sqlite", "diesel/r2d2"]
diesel_postgres_pool = ["diesel/postgres", "diesel/r2d2"]
diesel_mysql_pool = ["diesel/mysql", "diesel/r2d2"]
sqlite_pool = ["rusqlite", "r2d2_sqlite"]
postgres_pool = ["postgres", "r2d2_postgres"]
memcache_pool = ["memcache", "r2d2-memcache"]

[dependencies]
r2d2 = "0.8"
tokio = { version = "1.6.1", features = ["rt", "rt-multi-thread"] }
serde = { version = "1.0", features = ["derive"] }

diesel = { version = "1.0", default-features = false, optional = true }

postgres = { version = "0.19", optional = true }
r2d2_postgres = { version = "0.18", optional = true }

rusqlite = { version = "0.25", optional = true }
r2d2_sqlite = { version = "0.18", optional = true }

memcache = { version = "0.15", optional = true }
r2d2-memcache = { version = "0.6", optional = true }

[dependencies.rocket_sync_db_pools_codegen]
version = "0.1.0-rc.2"
path = "../codegen"

[dependencies.rocket]
version = "0.5.0-rc.2"
path = "../../../core/lib"
default-features = false

[package.metadata.docs.rs]
all-features = true
